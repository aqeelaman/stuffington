<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <link rel="stylesheet" href="l:\fontawesome-free-5.13.0-web\fontawesome-free-6.2.1-web\css\all.min.css">
    <script type="text/javascript" src="validation.js"></script>


    <title>Sign Up | Stuffington</title>
    <!-- Link to favicon -->
    <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
    <!-- Link to external style sheet -->
    <link rel="stylesheet" type="text/css" href="../css/navigation.css">
    <link rel="stylesheet" type="text/css" href="../css/registration.css">
</head>


<body onload="onload()">
        
    <!-- Navigation section -->
    <ul class="navbar">    
        <li><a href="index.html"><img src="../images/Stuffed.png"></a></li>
        <li><input type="text" class="searchbar" placeholder="Search.."></li>
        <li style="float:right"><a href="cart.html" >üõí</a></li>
        <li style="float:right"><a href="registration.html">REGISTER</a></li>
        <li style="float:right"><a href="login.html">LOGIN</a></li>
    </ul>

    <ul class="categoryNavbar">    
        <li><a href="allproducts.html">All Products</a></li>
        <li><a href="teddybear.html">Teddy Bear</a></li>
        <li><a href="housepets.html">House Pets</a></li>
        <li><a href="mythical.html">Mythical</a></li>
    </ul>


    <div class="container">
        <div class="form-name">Registration</div>
            <form onsubmit="return false" class="signup-form">
                <input type="text" id="name" name="Fullname" placeholder="Name" required> <br>
                <input type="number" id="age" name="age" placeholder="Age"><br>
                <input type="text" id="user" name="username" placeholder="Username" required><br>
                <input type="email" id="mail" name="mail" placeholder="Email Address" required><br>
                <input type="password" id="pass" name="password" placeholder="Password" required><br>
                <input type="submit" class= "btn btn-success"  value="Register" onclick="registeruser()">
                <spam id="result" class="register-result"></spam>
            </form>
    </div>

<footer class="footer1">
<p>¬©Ô∏è 2023 - STUFFINGTON - All Rights Reserved</p>
</footer>




    <script>
        
        var registeredUserList=[];
        var regisetredUsers=localStorage['RegisteredUsers'];

        if(regisetredUsers !=null || regisetredUsers!=undefined){
            registeredUserList=JSON.parse(regisetredUsers);
        }

        function registeruser(){

         var userobj = {};
         userobj.fullname = document.getElementById("name").value;
         userobj.age = document.getElementById("age").value;
         userobj.username = document.getElementById("user").value;
         userobj.email = document.getElementById("mail").value;
         userobj.password = document.getElementById("pass").value;
    
         if (userobj.username == '') {
            alert ("Username must be filled out");
            return false;
        }
        else if(userobj.password == '') {
            alert ("Password must be filled out");
            return;
        
        }
        else if(userobj.fullname == '') {
            alert ("Name must be filled out");
            return;
        
        }
        else if(userobj.email == '') {
            alert ("Email must be filled out");
            return;
        
        }

        else{
            if(validateUsername()){

            registeredUserList.push(userobj);
         localStorage['RegisteredUsers']=JSON.stringify(registeredUserList);
         regisetredUsers=localStorage['RegisteredUsers'];

         document.getElementById("result").innerHTML = "User Registered successfully. Please <a href='signin.html'>click here</a> to login. ";
            }
            else{
                document.getElementById("result").innerHTML = "<span style='color:red'>This user  exist! Please <a href='login.html'>click here</a> to login.</span>";
            }
        }
    }

    function validateUsername(){
         if(regisetredUsers ==null || regisetredUsers==undefined){
            return true;
         }

         registeredUserList=JSON.parse(regisetredUsers);

        if(registeredUserList.length <= 0){
            return true;
        }
        else{

         var username =  document.getElementById("user").value;

          var registeredUser = registeredUserList.filter(user => user.username == username)[0];

          if(registeredUser ==null || registeredUser == undefined) return true;

          return false;

        }

    }

    </script>




</html>
