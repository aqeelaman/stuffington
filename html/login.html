<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>Sign In | Stuffington</title>
    <!-- Link to favicon -->
    <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
    <!-- Link to external style sheet -->
    <link rel="stylesheet" type="text/css" href="../css/navigation.css">
    <link rel="stylesheet" type="text/css" href="../css/registration.css">
</head>


<body onload="onload()">

    <div class="navigationContainer">
        <!-- Navigation section -->
        <ul class="navbar">
            <li><a href="index.html"><img src="../images/Stuffed.png"></a></li>
            <li><input type="text" class="searchbar" placeholder="Search.."></li>
            <li style="float:right"><a href="cart.html">üõí</a></li>
            <li style="float:right"><a href="profile.html">üë§</a></li>
            <li style="float:right"><a href="login.html">SIGN IN</a></li>
            <li style="float:right"><a href="aboutUs.html">ABOUT US</a></li>
        </ul>
        <ul class="categoryNavbar">
            <li><a href="allproducts.html">All Products</a></li>
            <li><a href="teddybear.html">Teddy Bear</a></li>
            <li><a href="housepets.html">House Pets</a></li>
            <li><a href="mythical.html">Mythical</a></li>
        </ul>
    </div>

    <div class="container signup">
        <div class="form-name">Sign In</div>
        <form onsubmit="return false" class="signup-form">
            <input type="text" id="user" name="username" placeholder="Username...">
            <input type="password" id="password" name="" placeholder="Password...">


            <button class="btnn"><a href="index.html" onclick="login()">Login</a></button>
            <button class="btnn"><a href="../CMS/HTML/login.html" onclick="login()">Admin Login</a></button>
            <p class="login-result" id="login-result"></p>

            <p style="font-size: 23px;">Don't have an account?<br>
                <a style="font-size:23px ;" href="registration.html">Sign up here</a>
            </p>

        </form>

    </div>


    <script>
        var registeredUserList = [];
        // var regisetredUsers=localStorage['RegisteredUsers'];

        if (regisetredUsers != null || regisetredUsers != undefined) {
            var registeredUserList = JSON.parse(regisetredUsers);
        }

        function login() {
            if (validateLogin()) {
                var username = document.getElementById("user").value;
                //  localStorage['LoggedInUser']=username;

                window.location.href = 'game.php';
            }
            else {
                document.getElementById('login-result').innerHTML = "<span style='color:red; font-size:12px; text-align:center'>Invalid Username or Password!</span>";
            }
        }

        function validateLogin() {

            if (userobj.username == '') {
                alert("Username must be filled out");
                return false;
            }
            else if (userobj.password == '') {
                alert("Password must be filled out");
                return;

            }



            if (regisetredUsers == null || regisetredUsers == undefined) {
                return false;
            }

            registeredUserList = JSON.parse(regisetredUsers);

            if (registeredUserList.length <= 0) {
                return false;
            }
            else {

                var username = document.getElementById("user").value;
                var password = document.getElementById("password").value;

                var registeredUser = registeredUserList.filter(user => user.username == username)[0];

                if (registeredUser == null || registeredUser == undefined) return false;

                if (registeredUser.password == password) return true;

                return false;

            }
        } 
    </script>



    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>


    <div class="footer1">
        <p>¬©Ô∏è 2023 - STUFFINGTON - All Rights Reserved</p>
    </div>

</body>

</html>