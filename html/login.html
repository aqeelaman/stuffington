<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">

    <title>Sign In | Stuffington</title>
    <!-- Link to favicon -->
    <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
    <!-- Link to external style sheet -->
    <link rel="stylesheet" type="text/css" href="../css/navigation.css">
    <link rel="stylesheet" type="text/css" href="../css/registration.css">
</head>


<body onload="onload()">
        
    <!-- Navigation section -->
    <ul class="navbar">    
        <li><a href="index.html"><img src="../images/Stuffed.png"></a></li>
        <li><input type="text" class="searchbar" placeholder="Search.."></li>
        <li style="float:right"><a href="cart.html" >üõí</a></li>
        <li style="float:right"><a href="registration.html">REGISTER</a></li>
        <li style="float:right"><a href="login.html">LOGIN</a></li>
    </ul>

    <ul class="categoryNavbar">    
        <li><a href="allproducts.html">All Products</a></li>
        <li><a href="teddybear.html">TeddyBear</a></li>
        <li><a href="housepets.html">HousePets</a></li>
        <li><a href="mythical.html">Mythical</a></li>
    </ul>

<div class="container signup">
    <div class="form-name">Sign In</div>
        <form onsubmit="return false" class="signup-form">
            <input type="text" id="user" name="username" placeholder="Enter Username Here">
                    <input type="password" id="password" name="" placeholder="Enter Password Here">


            <button class="btnn"><a href="#" onclick="login()">Login</a></button>
            <p class="login-result" id="login-result"></p>

            <p class="link">Don't have an account?<br>
                <a href="registration.html">Sign up here</a>
            </p>

        </form>
    </div>
</div>


<script>
    var registeredUserList=[];
        // var regisetredUsers=localStorage['RegisteredUsers'];

        if(regisetredUsers !=null || regisetredUsers!=undefined){
            var registeredUserList=JSON.parse(regisetredUsers);
        }

    function login()
    {
        if(validateLogin()){
    var username =  document.getElementById("user").value;
            //  localStorage['LoggedInUser']=username;

            window.location.href = 'game.php';
        }
        else{
            document.getElementById('login-result').innerHTML="<span style='color:red; font-size:12px; text-align:center'>Invalid Username or Password!</span>";
        }
    }

    function validateLogin(){

        if (userobj.username == '') {
            alert ("Username must be filled out");
            return false;
        }
        else if(userobj.password == '') {
            alert ("Password must be filled out");
            return;
        
        }



        if(regisetredUsers ==null || regisetredUsers==undefined){
            return false;
         }

         registeredUserList=JSON.parse(regisetredUsers);

        if(registeredUserList.length <= 0){
            return false;
        }
        else{

         var username =  document.getElementById("user").value;
         var password =  document.getElementById("password").value;

          var registeredUser = registeredUserList.filter(user => user.username == username)[0];

          if(registeredUser ==null || registeredUser == undefined) return false;

          if(registeredUser.password == password) return true;

          return false;

        }
    } 
</script> 


    
    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>


<footer class="footer1">
<p>¬©Ô∏è 2023 - STUFFINGTON - All Rights Reserved</p>
</footer>

</body>

</html>